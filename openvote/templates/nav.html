{% load staticfiles %}
{% load url from future %}

<div class="box">
    
    <a href="/">home</a> / 
    <a href="/maptest">maptest</a> / 
    <a href="#/election/list">election list</a>
    <hr/>

    <div ng-controller="VoterCtrl">
        {% if user.is_authenticated %}
            <h3>Welcome, {{ user.username }}</h3>
            <a href="{% url "logout" %}" class="btn">Sign out</a>
        {% else %}
            <a data-toggle="modal" href="#signinModal" class="btn btn-primary">Sign in</a>
        {% endif %}
    </div>
        
    Voted in <[elections_voted()]>.  Not yet voted in <[elections_unvoted()]>.  <[elections.length]> Elections total.

    <hr/>

    <ul class="unstyled">
        <li class="nav-election" ng-repeat="election in elections">
            <a href="#/election/<[election.id]>" ng-click="updateElection(election)"><[election.name]></a>
            <div ng-repeat="candidate in election.candidates">
                <div class="nav-candidate">
                    <input class="vote" type="checkbox" ng-model="candidate.approved">
                    <a href="#/candidate/<[ candidate.id ]>" ng-click="updateCandidate(candidate)"><[ candidate.name ]></a>
                </div>
            </div>
        </li>
    </ul>

    <hr/>

    <div class="nav-election">
        <a href="/api/v1/election/?format=json">More Elections</a><br/>
        <a href="#/election/new" ng-click="updateElection('')">Add New Election</a>
    </div>

    <hr/>
    
    <a href="https://register.rockthevote.com/registrants/new" target="_new">Register to Vote</a>
    
</div>
